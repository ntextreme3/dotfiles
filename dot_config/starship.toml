# Apps I have installed via Snap (e.g. golang) have a slower startup time, just
# for the first time they run after a restart.
command_timeout=1000

# https://github.com/starship/starship/issues/5954
[python]
disabled = true

[custom.uv_project]
description = "Show Python version via uv for this directory/project"
command = "uv python find --show-version"
when = 'test -z "$VIRTUAL_ENV"'
# Only run in dirs that look like Python projects
detect_files = ["pyproject.toml", "uv.lock", ".python-version", "requirements.txt"]
# Optional: also trigger if there's Python files
detect_extensions = ["py"]
# Make it look like the python module
symbol = "üêç "
format = "via [$symbol$output]($style) "
style = "yellow bold"

[custom.uv_venv]
description = "Show Python version via uv when VIRTUAL_ENV is active"
command = 'printf "%s (%s)" "$(uv python find --show-version)" "$(basename "$VIRTUAL_ENV_PROMPT")"'
when = 'test -n "$VIRTUAL_ENV"'
# Make it look like the python module
symbol = "üêç "
format = "via [$symbol$output]($style) "
style = "yellow bold"
